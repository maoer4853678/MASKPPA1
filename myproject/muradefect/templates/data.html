{% extends "base.html" %}

{% block header %}
<!-- <script src="../static/js/jsgrid.min.js"></script> -->
<!-- <link href="../static/css/jsgrid-theme.min.css" rel="stylesheet">
<link href="../static/css/jsgrid.min.css" rel="stylesheet"> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.min.css" />
<link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid-theme.min.css" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.min.js"></script>

<style>
        .jsgrid-grid-body{
            overflow: auto;
        }
        /* .jsgrid-grid-header {
          overflow: auto;
        } */
    </style>

{% endblock %}


{% block user %}
<ul class="navbar-nav my-lg-0">
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-muted waves-effect waves-dark" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="../static/assets/images/users/1.jpg" alt="user" class="profile-pic m-r-10" />{{username}}</a>
    </li>
</ul>
{% endblock %}

{% block page %}
        <div class="container-fluid">
            {% csrf_token %}
            <div class="row">
                <div class="breadcrumb">
                             <a  href = '/data' class="btn waves-effect waves-light btn-warning hidden-md-down" id = "ensure"> 刷新 </a>
                </div>
            </div>   
        </div>

        <table id="jqGrid" ></table>


<script type="text/javascript">
    var clients =  {{ data|safe }} 
    $("#jqGrid").jsGrid({
        width: "100%",
        height: "500px",
        inserting: false,
        editing: false,
        sorting: true,
        paging: true,
        data: clients,
        fields: {{ fields|safe }} ,
        autowidth: true,
        bAutoWidth: false,
        shrinkToFit: false,
    });
    
</script>

{% endblock %}
